(progn
    (cls [[T ^TestA]] TestA [^Object]
        (ctor [] (ccall))
        (defn foo T^ [[o T^]]
            (println "Foo A!")
            o))
    (cls [[T ^TestB]] TestB [^TestA]
        (ctor [] (ccall))
        (defn foo T^ [[o T^]]
            (println "Foo B!")
            o))
    (app-fn
        (def [[a (new ^TestA)][b (new ^TestB)]])
        (#foo a a)
        (#foo a b)
        (#foo b b)))