(progn
    (obj Test [^Object]
        (def [[i ^int]])
        (ctor [] (ccall))
        (defn checkI ^int []
            (++ i)
            (#sleep ^java.lang.Thread 0 10)
            (-- i)
            i))
    (app
        (defn test ^void []
            (catch [[_ ^java.lang.InterruptedException]]
                (for [_ (range 0 1000000)]
                    (#checkI ^Test))))
        (app-fn))